<section>


  <nav class=" bg-green-600 border-green-200">

    <div class="max-w-screen-xl h-20 flex flex-wrap items-center justify-between mx-auto p-4">

    </div>

  </nav>

<div style="z-index: 999;" class="flex top-10 left-40 absolute shadow-md bg-white rounded-sm w-9/12 h-5/6 ">



  <div class="w-64 max-w-sm p-4 bg-white border border-gray-200  shadow sm:p-8 ">
    <div class="flex items-center justify-between mb-4">
        <h5 class="text-xl font-bold leading-none text-gray-900 ">Message</h5>

   </div>
   <div class="flow-root">

    <form (ngSubmit)="handlesearch()">
    <input [(ngModel)]="search" name="search" class="w-40 h-5  p-2  bg-slate-100 shadow-sm" placeholder="search" (keyup.enter)="handlesearch()" />
    </form>

    <!-- <p *ngIf="search!=''" class="my-5 text-sm font-medium text-black truncate">{{search}}</p> -->


        <ul role="list" class="divide-y divide-gray-200 dark:divide-gray-700">
            <li  class="py-3 sm:py-4">
                <div *ngFor="let msg of messages" class="flex items-center space-x-4">

                    <div (click)="handleChat(msg)"     class="flex-1 min-w-0">
                        <p *ngIf="sender == msg.sender "  class="text-sm font-medium text-black truncate">
                            {{msg.receiver}}
                        </p>
                        <p *ngIf="sender != msg.sender "  class="text-sm font-medium text-black truncate">
                          {{msg.sender}}
                      </p>
                        <p class="text-sm text-gray-500 truncate dark:text-gray-400">
                            {{msg.message[msg.message.length-1]}}
                        </p>
                    </div>

                </div>
            </li>




        </ul>
   </div>
</div>

<div *ngIf="showMsg"  class="w-full  p-4 bg-white border border-gray-200  shadow sm:p-8 ">
  <div  class="flex items-center justify-between mb-4">
    <h5 *ngIf="sender != UserMsg.sender" class="text-xl font-bold leading-none text-gray-900 "  >{{UserMsg.sender}}</h5>
    <h5 *ngIf="sender != UserMsg.receiver" class="text-xl font-bold leading-none text-gray-900 "  >{{UserMsg.receiver}}</h5>
 </div>
 <div  class="flow-root">
      <ul role="list" class="divide-y ">
          <li *ngFor="let txt of UserMsg.message ; let i=index" class="py-3 sm:py-4">
             <div class="items-center ">

                  <div *ngIf="i % 2 !=0 " class=" min-w-0">

                      <p  class="mt-3 text-sm bg-green-200 w-fit p-2 rounded-full text-gray-500 truncate dark:text-gray-400">

                        {{txt}}

                      </p>

                  </div>

                  <div *ngIf="i % 2 ==0 " style="direction: rtl;" class=" min-w-0">

                    <p class="mt-3 text-sm bg-green-200 w-fit p-2 rounded-full text-gray-500 truncate dark:text-gray-400">
                      {{txt}}
                    </p>

                </div>


              </div>
          </li>




      </ul>

      <input [(ngModel)]="message" name="message" (keyup.enter)="submit()" placeholder="write your message" style="position: absolute; top: 90%;margin-left:5%;" class="p-1 w-3/5 shadow bg-slate-200 " />


    </div>
</div>


</div>


</section>
